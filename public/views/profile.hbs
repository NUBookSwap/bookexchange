{{!-- 
- Display user's name
- Ajax call to /api/users/:userid to parse through the books you have posted --}}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>User Profile</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>
  <!--Header-->
  <div class="header">
    
    <!--Page Heading-->
    <div><h1 class="p-1 pl-3">NUBookSwap</h1></div>
    
    <!--Dropdown Menu-->
    <div class="dropdown ml-auto pt-2 pr-3">
          
      <button class="btn btn-secondary dropdown-toggle button" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{user.firstname}}
      </button>
          
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" href="#">Home Page</a>
        <a class="dropdown-item" href="#">Another Page</a>
        <a class="dropdown-item" href="#">Someother Page</a>
      </div>
    
    </div>
    
  </div>

  <!--Container Title-->
  <div>
    <h2 id="user" class="nw-text p-1 pl-3">{{user.firstname}} + 's Profile</h2>
  </div>

  <!--Container with cards-->
  <div class="container rounded mt-5 nw">
    <!--Row-->
    <div id="display" class="row d-flex flex-wrap justify-content-center">
      <!--Column-->

    </div>
  
  </div>
  
  <div class="footer">Copyright &#169 2018 OurTeam</div>
  
  
  
  
</body>
</html>

<script>
$(document).ready(function(){

$.get("/api/users/:id", function(data){
console.log(data);

generateBooks(data);

});

function generateBooks(){

  if(data.Posts.length !== 0){
    for(let i = 0; i < data[i].Posts.length; i++){
      let div = $('<div class="col-4">');
        let card = $('<div class="card-body">');

        div.append('<div class="card mt-4 mb-4 mr-auto ml-auto" style="width: 18rem;">');
          div.append('<img class="card-img-top" src="' + data[i].Posts.image + '" alt="Book image cap">');
          div.append(card);
          card.append('<h5 class="card-title">Book Title:' + data[i].Posts.title '</h5>');
          //card.append('<p class="card-text">Author: </p>');
          //card.append('<p class="card-text">Condition: </p>');
          //card.append('<p class="card-text">Description: </p>');
          card.append('<p class="card-text">Price:' + data[i].Posts.price + '</p>');
          card.append('<a href="#" class="btn btn-primary">Edit</a>');

          $('#display').append(div);

    }
  }
};

})


</script>